<div *ngIf="isLoading" class="overlay">
  <mat-progress-bar
    class="commonprogressbar"
    mode="indeterminate"
  ></mat-progress-bar>
</div>
<div class="fullscreen commonbackground">
  <div class="container">
    <div class="row">
      <div class="col px-0 peengineerregistrationcard">
        <mat-card>
          <div class="container">
            <div class="row align-items-center">
              <div
                class="col-md-5 col-sm-12 formpadding"
                [ngClass]="[isDesktop ? 'none' : 'mobileform']"
              >
                <form
                  class="registerform"
                  [formGroup]="registerForm"
                  (submit)="onRegister($event, registerForm.value)"
                  (keydown.enter)="onRegister($event, registerForm.value)"
                >
                  <h1 class="title">Create your account</h1>
                  <div class="mt-5 form-group row">
                    <div class="col-md-6 col-sm-12">
                      <p class="mb-0">First Name*</p>
                      <mat-form-field appearance="outline" class="fullwidth">
                        <input matInput [formControl]="firstname" required />
                        <mat-error *ngIf="firstname.invalid">{{
                          getErrorMessage(firstname)
                        }}</mat-error>
                      </mat-form-field>
                    </div>
                    <div class="col-md-6 col-sm-12">
                      <p class="mb-0">Last Name*</p>
                      <mat-form-field appearance="outline" class="fullwidth">
                        <input matInput [formControl]="lastname" required />
                        <mat-error *ngIf="lastname.invalid">{{
                          getErrorMessage(lastname)
                        }}</mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="form-group row">
                    <div class="col-md-6 col-sm-12">
                      <p class="mb-0">Email*</p>
                      <mat-form-field appearance="outline" class="fullwidth">
                        <input
                          matInput
                          placeholder="eg. pat@example.com"
                          [formControl]="workemail"
                          required
                        />
                        <mat-error *ngIf="workemail.invalid">{{
                          getErrorMessage(workemail)
                        }}</mat-error>
                      </mat-form-field>
                    </div>
                    <div class="col-md-6 col-sm-12">
                      <p class="mb-0">Country*</p>
                      <mat-form-field appearance="outline" class="fullwidth">
                        <mat-select
                          [formControl]="countrycontrol"
                          style="font-size: 0.8em"
                          disableOptionCentering
                        >
                          <mat-option
                            *ngFor="let country of filteredOptions | async"
                            [value]="country"
                            >{{ country.country }}</mat-option
                          >
                        </mat-select>
                        <mat-error *ngIf="countrycontrol.invalid">{{
                          getErrorMessage(countrycontrol)
                        }}</mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="col-md-6 col-sm-12 pl-0">
                      <p class="mb-0">Type Of PE Engineer*</p>
                      <mat-form-field appearance="outline" class="fullwidth">
                        <mat-select
                          [formControl]="peengineertype"
                          style="font-size: 0.8em"
                          required
                        >
                          <mat-option value="structural">structural</mat-option>
                          <mat-option value="electrical">electrical</mat-option>
                          <!--  <mat-option value="both">both</mat-option> -->
                        </mat-select>
                        <mat-error *ngIf="peengineertype.invalid">{{
                          getErrorMessage(peengineertype)
                        }}</mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="form-group">
                    <mat-checkbox
                      #agreementcheckbox
                      class="mediumtext"
                      [formControl]="agreement"
                      (change)="OnAgreeTerms(agreementcheckbox)"
                      required
                      >I agree to the
                      <a
                        href=" https://www.wattmonk.net/service-agreement "
                        class="actionlink fontweight"
                        >terms</a
                      >
                      and
                      <a
                        href="https://www.wattmonk.net/privacy-policy  "
                        class="actionlink fontweight"
                        >privacy</a
                      ></mat-checkbox
                    >
                    <mat-error
                      class="checkboxerror"
                      *ngIf="agreement.invalid && display"
                      >{{ getErrorMessage(agreement) }}
                    </mat-error>
                  </div>
                  <div class="form-group">
                    <button mat-raised-button type="submit" class="fullwidth">
                      Submit
                    </button>
                  </div>
                  <div class="form-group pt-4">
                    <span class="mediumtext fontweight"
                      >Already Registered?
                    </span>
                    <a
                      [routerLink]="['/auth/login']"
                      class="actionlink fontweight mediumtext"
                      >Sign In</a
                    >
                  </div>
                </form>
              </div>
              <!-- <div class="col-5 offset-1 pt-5" style="z-index: 2;" *ngIf="isDesktop">
                  <div class="row">
                    <div class="col"> -->
              <!-- <mat-card class="blockcard" align-items-center>
                        <img class="blockimages pt-2" src="../../../assets/nocreditcards.svg">
                        <h5 class="para pt-3" align="center">Absolutely Free</h5>
                        <h5 class="para" align="center">No hidden charges, No credit card required.</h5>
                      </mat-card> -->
              <!-- <mat-card class="blockcard">
                        <img class="blockimages pt-2" src="../../../assets/stopwatch.svg">
                        <h5 class="para pt-3" align="center">Instant & Easy</h5>
                        <h5 class="para" align="center">Get access instantly. No downloads required.</h5>
                      </mat-card> -->
              <!-- </div>
                    <div class="col"> -->
              <!-- <mat-card class="blockcard">
                        <img class="blockimages pt-2" src="../../../assets/bandwidth.svg">
                        <h5 class="para pt-3" align="center">Unlimited Features</h5>
                        <h5 class="para" align="center">Access all the features of the platform.</h5>
                      </mat-card> -->
              <!--  <mat-card class="blockcard">
                        <img class="blockimages pt-2" src="../../../assets/security.svg">
                        <h5 class="para pt-3" align="center">Your data</h5>
                        <h5 class="para" align="center">Enjoy your free trial with your own company's data.</h5>
                      </mat-card> -->
              <!-- </div>
                  </div>
                </div> -->
              <div
                class="col-md-7 col-sm-0 background pt-5 pl-5"
                style="z-index: 2; height: 41rem"
                *ngIf="isDesktop"
              >
                <p [routerLink]="['/auth/login']">
                  <img
                    src="../../../assets/wattmonk logo white.svg"
                    width="133px"
                    height="34px"
                  />
                </p>
                <img
                  src="../../../assets/PE Engineer.svg"
                  width="190px"
                  height="auto"
                  style="margin-top: 13rem"
                />
                <h2 class="mt-4 mb-3 title fontweight">PE Engineer</h2>
                <p class="w-50 fontweight mediumtext">
                  Become part of a growing solar design company that provides a
                  strong platform for your career by registering as a Solar
                  Permit Designer.
                </p>
              </div>
            </div>
          </div>
        </mat-card>
      </div>
    </div>
  </div>
</div>
