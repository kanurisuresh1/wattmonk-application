<!-- <div class="main-content">
  <div class="container d-flex align-items-center" style="height: 69vh;">
    <div class="col-12">
      <div class="d-flex justify-content-center">
        <img src="../../../../../assets/comingsoon.png" width="30%"/>
      </div>
      <h2 class="text-center">Coming Soon</h2>
      <h5 style="text-align: center;">Soon your checklist will have all the required data insights. Stay tuned!!</h5>
    </div>
  </div>
</div> -->

<div class="main-content">
  <img
    *ngIf="placeholder"
    class="placeholderarrow"
    src="./../../../../../assets/angledarrow.svg"
  />
  <div class="topactionbar">
    <button mat-raised-button (click)="openAddCouponDialog()">+ Add</button>
  </div>

  <div class="container data-content" [hidden]="placeholder">
    <div class="row mt-4 statisticssection" *ngIf="!isoverviewloading">
      <div class="col-9 header">
        <h4 class="pt-3">Coupons</h4>
      </div>
      <div class="col-3 text-right">
        <mat-form-field>
          <mat-label>Filter</mat-label>
          <input matInput (keyup)="applyFilter($event)" placeholder="Ex. ium" />
        </mat-form-field>
      </div>
    </div>

    <div class="col-12 mt-5 border" *ngIf="isoverviewloading">
      <div
        class="row bg-light"
        style="height: 60px; display: flex; align-items: center"
      >
        <div class="col d-flex justify-content-center">
          <p count="1" class="d-block">Request Type</p>
        </div>
        <div class="col d-flex justify-content-center">
          <p count="1" class="d-block">Title</p>
        </div>
        <div class="col d-flex justify-content-center">
          <p count="1" class="d-block">Code</p>
        </div>
        <div class="col d-flex justify-content-center">
          <p count="1" class="d-block">Expirydate</p>
        </div>
        <div class="col d-flex justify-content-center">
          <p count="1" class="d-block">Amount</p>
        </div>
        <div class="col d-flex justify-content-center">
          <p count="1" class="d-block">Use Type</p>
        </div>
        <div class="col d-flex justify-content-center">
          <p count="1" class="d-block">Discount Type</p>
        </div>
        <div class="col d-flex justify-content-center">
          <p count="1" class="d-block">Manage</p>
        </div>
        <div class="col d-flex justify-content-center">
          <p count="1" class="d-block">Status</p>
        </div>
      </div>
      <div
        class="row bg-white"
        *ngFor="let number of [0, 1, 2]"
        style="height: 60px; display: flex; align-items: center"
      >
        <div class="col d-flex justify-content-center">
          <ngx-skeleton-loader
            count="1"
            class="d-block"
            [theme]="{
              'border-radius': '8px',
              'background-color': '#DBDAD8',
              height: '12px',
              width: '55px',
              'margin-top': '1.1rem'
            }"
          >
          </ngx-skeleton-loader>
        </div>
        <div class="col d-flex justify-content-center">
          <ngx-skeleton-loader
            count="1"
            class="d-block"
            [theme]="{
              'border-radius': '8px',
              'background-color': '#DBDAD8',
              height: '12px',
              width: '55px',
              'margin-top': '1.1rem'
            }"
          >
          </ngx-skeleton-loader>
        </div>
        <div class="col d-flex justify-content-center">
          <ngx-skeleton-loader
            count="1"
            class="d-block"
            [theme]="{
              'border-radius': '8px',
              'background-color': '#DBDAD8',
              height: '12px',
              width: '55px',
              'margin-top': '1.1rem'
            }"
          >
          </ngx-skeleton-loader>
        </div>
        <div class="col d-flex justify-content-center">
          <ngx-skeleton-loader
            count="1"
            class="d-block"
            [theme]="{
              'border-radius': '8px',
              'background-color': '#DBDAD8',
              height: '12px',
              width: '55px',
              'margin-top': '1.1rem'
            }"
          >
          </ngx-skeleton-loader>
        </div>
        <div class="col d-flex justify-content-center">
          <ngx-skeleton-loader
            count="1"
            class="d-block"
            [theme]="{
              'border-radius': '8px',
              'background-color': '#DBDAD8',
              height: '12px',
              width: '55px',
              'margin-top': '1.1rem'
            }"
          >
          </ngx-skeleton-loader>
        </div>
        <div class="col d-flex justify-content-center">
          <ngx-skeleton-loader
            count="1"
            class="d-block"
            [theme]="{
              'border-radius': '8px',
              'background-color': '#DBDAD8',
              height: '12px',
              width: '55px',
              'margin-top': '1.1rem'
            }"
          >
          </ngx-skeleton-loader>
        </div>
        <div class="col d-flex justify-content-center">
          <ngx-skeleton-loader
            count="1"
            class="d-block"
            [theme]="{
              'border-radius': '8px',
              'background-color': '#DBDAD8',
              height: '12px',
              width: '55px',
              'margin-top': '1.1rem'
            }"
          >
          </ngx-skeleton-loader>
        </div>
        <div class="col d-flex justify-content-center">
          <ngx-skeleton-loader
            count="1"
            class="d-block"
            [theme]="{
              'border-radius': '8px',
              'background-color': '#DBDAD8',
              height: '12px',
              width: '55px',
              'margin-top': '1.1rem'
            }"
          >
          </ngx-skeleton-loader>
        </div>
        <div class="col d-flex justify-content-center">
          <ngx-skeleton-loader
            count="1"
            class="d-block"
            [theme]="{
              'border-radius': '8px',
              'background-color': '#DBDAD8',
              height: '12px',
              width: '55px',
              'margin-top': '1.1rem'
            }"
          >
          </ngx-skeleton-loader>
        </div>
      </div>
    </div>

    <div
      class="row statisticssection example-container mat-elevation-z8"
      style="max-height: 65vh; overflow-x: hidden; overflow-y: auto"
      *ngIf="!isoverviewloading"
    >
      <div class="col example-table-container">
        <table
          mat-table
          [dataSource]="dataSource"
          class="example-table"
          matSort
          matSortActive="created"
          matSortDisableClear
          matSortDirection="desc"
        >
          <!-- Name Column -->
          <ng-container matColumnDef="requesttype">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Request Type
            </th>
            <td mat-cell *matCellDef="let element">
              {{ element.requesttype | titlecase }}
            </td>
          </ng-container>

          <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Title</th>
            <td mat-cell *matCellDef="let element">
              {{ element.title | titlecase }}
            </td>
          </ng-container>

          <!-- Name Column -->
          <!-- <ng-container matColumnDef="description">
            <th style="width: 20%;" mat-header-cell *matHeaderCellDef mat-sort-header>Description</th>
            <td mat-cell *matCellDef="let element">{{ element.description | titlecase }}</td>
          </ng-container> -->

          <!-- Company Column -->
          <ng-container matColumnDef="code">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Code</th>
            <td mat-cell *matCellDef="let element">{{ element.code }}</td>
          </ng-container>

          <!-- Email Column -->
          <ng-container matColumnDef="expirydate">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Expirydate
            </th>
            <td mat-cell *matCellDef="let element">{{ element.expirydate }}</td>
          </ng-container>

          <!-- Amount Column -->
          <ng-container matColumnDef="amount">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Amount</th>
            <td mat-cell *matCellDef="let element">{{ element.amount }}</td>
          </ng-container>

          <!-- Amount Column -->
          <ng-container matColumnDef="usestype">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Use Type</th>
            <td mat-cell *matCellDef="let element">
              {{ element.usestype | titlecase }}
            </td>
          </ng-container>

          <!-- Amount Column -->
          <ng-container matColumnDef="discounttype">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Discount Type
            </th>
            <td mat-cell *matCellDef="let element">
              {{ element.discounttype | titlecase }}
            </td>
          </ng-container>

          <!-- Action Column -->
          <ng-container matColumnDef="manage">
            <th mat-header-cell *matHeaderCellDef>Manage</th>
            <td
              mat-cell
              *matCellDef="let element"
              (click)="$event.stopPropagation()"
            >
              <span class="tableactionbutton">
                <button mat-icon-button (click)="openEditCouponDialog(element)">
                  <img
                    class="dialogclose"
                    src="../../../../../assets/edit.svg"
                  />
                </button>
              </span>
              <!-- <span class="tableactionbutton">
                <button mat-icon-button (click)="openConfirmationDialog(element)">
                  <img class="dialogclose" src="../../../../../assets/delete.svg" />
                </button>
              </span> -->
            </td>
          </ng-container>
          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef>Status</th>
            <td mat-cell *matCellDef="let element; let i = index">
              <button
                *ngIf="element.activestatus"
                (click)="changeStatus(element, i)"
              >
                Active
              </button>
              <button
                *ngIf="!element.activestatus"
                (click)="changeStatus(element, i)"
              >
                Inactive
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
        <mat-paginator
          [pageSizeOptions]="[10, 20]"
          showFirstLastButtons
        ></mat-paginator>
      </div>
    </div>

    <div
      class="row statisticssection"
      *ngIf="dataSource.filteredData.length === 0 && !isoverviewloading"
    >
      <div class="col">
        <div class="alert alert-danger">No coupons found!</div>
      </div>
    </div>
  </div>
</div>
