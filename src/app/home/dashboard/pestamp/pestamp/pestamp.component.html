<!-- <div class="main-content">
  <img class="comingsoonimage" src="../../../../../assets/comingsoon.png"/>
  <h2 class="comingsoontext">Coming Soon</h2>
</div> -->
<!-- <div *ngIf="isLoading" class="overlay">
  <mat-progress-bar class="commonprogressbar" mode="indeterminate"></mat-progress-bar>
</div> -->
<!-- <div *ngIf="isDownloading" class="downloadoverlay">
  <mat-card class="spinnercard" align-items-center>
    <div class="row">
      <div class="col">
        <h4 class="spinnertext">{{ downloadmessage }}</h4>
      </div>
      <div class="col-4">
        <h4 class="spinnertext">{{ loadingpercentage }} %</h4>
      </div>
    </div>
  </mat-card>
</div> -->
<div *ngIf="isLoading" class="progress-loader">
  <div id="pause" class="d-flex align-items-center justify-content-center">
    <div id="spinner" style="background: #fff; padding: 35px; border-radius: 5px" class="row">
      <div class="loading-message bkgg col-9">{{ loadingmessage }}</div>
      <div class="col-3" style="top: 5px">
        <div class="snippet" data-title=".dot-pulse">
          <div class="stage">
            <div class="dot-pulse"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="main-content" style="overflow: hidden">
  <div class="topactionbar">
    <div class="row">
      <div class="col-4 contractorfilter">
        <div class="row ml-0">
          <div class="col-8 pr-0">
            <div class="col-12 px-0">
              <mat-form-field appearance="outline" class="fullwidth">
                <div class="input-group-text bg-label-color text-white" style="padding: 5px 22px" matPrefix>
                  Sort
                </div>
                <mat-select class="form-control border-0" [(value)]="orderbyfilterstatus"
                  (selectionChange)="filtervalue($event)" placeholder="Order Type" #listDesigner [multiple]="false">
                  <mat-option value="created_at">Created At</mat-option>
                  <mat-option value="actualdelivereddate" *ngIf="activeTab == 5">Deliver At</mat-option>
                  <mat-option value="null" *ngIf="orderbyfilterstatus != null">Clear filter</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
          <div class="col-4 px-0 border-left" *ngIf="orderbyfilterstatus != null">
            <mat-select class="form-control border-0" [(value)]="ordertypefilterstatus"
              (selectionChange)="filtervalue($event)" placeholder="Order By" aria-label="statusfilter" required>
              <mat-option value="asc">Ascending</mat-option>
              <mat-option value="desc">Descending</mat-option>
            </mat-select>
          </div>
        </div>
      </div>
      <div class="col-4"></div>
      <div class="col-4" *ngIf="!isPeSuperadmin">
        <button mat-raised-button class="primarymatbutton" (click)="openAddPestampDialog()">
          +
          {{
          dynamicName?.namepestamp != null
          ? dynamicName.namepestamp
          : "PE Stamps"
          }}
        </button>
      </div>
    </div>
    <!-- <div class="col-4">
    <button mat-raised-button class="primarymatbutton" (click)="openAddPestampDialog()">
      + {{dynamicName.namepestamp}}
    </button>
  </div> -->
  </div>
  <div class="container">
    <div class="row">
      <div [ngClass]="
          !isClient && loggedInUser.role.id != 3 && !isPeSuperadmin
            ? 'col-sm-9 col-12 mt-4  designoverviewsection widthClass designmaintabs'
            : 'col-12 mt-4  designoverviewsection widthClass designmaintabs'
        ">
        <mat-tab-group mat-stretch-tabs style="width: 100%" (selectedTabChange)="maintabchange($event)"
          [selectedIndex]="activeTab">
          <mat-tab>
            <ng-template matTabLabel>
              <div class="condesignoverviewbutton">
                <img src="../../../../../assets/shining.svg" />
                <h1 *ngIf="allnewpestamp < 0">
                  <ngx-skeleton-loader [theme]="{
                      'border-radius': '5px',
                      height: '32px',
                      width: '32px',
                      'background-color': '#EDDBB2',
                      position: 'absolute',
                      top: '16px',
                      right: '0px'
                    }">
                  </ngx-skeleton-loader>
                </h1>
                <h1 class="conoverviewvalue" *ngIf="allnewpestamp >= 0">
                  {{ allnewpestamp }}
                </h1>
                <h4 style="font-size: 0.7rem">New</h4>
              </div>
            </ng-template>
            <div class="mt-4 innertabs">
              <div *ngIf="isnewdesignslistloading">
                <div *ngFor="let number of [0, 1, 2]">
                  <div class="row">
                    <div class="col-10">
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '4px',
                          'margin-bottom': '0px',
                          'border-radius': '4px',
                          height: '15px',
                          width: '60px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '16px',
                          'border-radius': '4px',
                          'margin-bottom': '0px',
                          height: '15px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                      <ngx-skeleton-loader [theme]="{
                          'border-radius': '4px',
                          'margin-bottom': '0px',
                          height: '15px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                    </div>
                    <div class="col">
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '4px',
                          'border-radius': '4px',
                          height: '24px',
                          width: '24px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '4px',
                          'margin-left': '8px',
                          'border-radius': '4px',
                          height: '24px',
                          width: '24px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col">
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '16px',
                          'margin-bottom': '0px',
                          'border-radius': '8px',
                          height: '26px',
                          width: '50px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '16px',
                          'margin-left': '8px',
                          'margin-bottom': '0px',
                          'border-radius': '8px',
                          height: '26px',
                          width: '50px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                    </div>
                  </div>
                </div>
              </div>
              <cdk-virtual-scroll-viewport itemSize="200" (scrolledIndexChange)="onScrollNewPestamp()"
                class="designlistitems-viewport" *ngIf="!isnewdesignslistloading && newpestamplist.length > 0"
                #newpestamp>
                <mat-card [ngClass]="[i % 2 == 0 ? 'itemcard even' : 'itemcard odd']"
                  *cdkVirtualFor="let design of newpestamplist; let i = index"
                  (click)="openPestampDetailDialog(design, listtypes.NEW, i)">
                  <mat-card-header>
                    <div class="row align-items-center headerrow">
                      <div class="col-10 headercol">
                        <img style="width: 24px; margin-right: 8px" *ngIf="design.isonpriority"
                          src="../../../../../assets/redflag.svg" />
                        <mat-card-title style="font-size: 0.9em">{{ design.personname }}

                          <span class="chipdetail ml-1" *ngIf="design.status == 'outsourced' && isClient">{{
                            design.pestampcurrentstatus }}</span>
                          <span class="chipdetail ml-1" style="background-color: #1289a7"
                            *ngIf="design.status == 'created'">Unassigned</span>
                          <span class="chipdetail ml-1" style="background-color: #3c78d8" *ngIf="
                              design.status == 'assigned' ||
                              design.status == 'pesuperadminassigned'
                            ">{{ design.pestampcurrentstatus }}</span>
                          <span class="chipdetail ml-1" style="background-color: rgb(109, 187, 26)" *ngIf="
                              design.status == 'accepted' ||
                              design.status == 'completed' ||
                              design.status == 'delivered'
                            ">{{ design.pestampcurrentstatus }}</span>
                          <span class="chipdetail ml-1" style="background-color: rgb(246, 77, 10)"
                            *ngIf="design.status == 'declined'">{{ design.pestampcurrentstatus }}</span>
                          <!-- <span class="chipdetail ml-1" style="background-color: rgb(234, 32, 39);"
                            *ngIf="design.isoverdue">Overdue</span> -->
                          <span class="chipdetail ml-1" style="background-color: rgb(183, 21, 64)"
                            *ngIf="design.isinrevisionstate">Revision</span>
                        </mat-card-title>
                      </div>
                      <div class="col headercol">
                        <button class="float-right" mat-icon-button (click)="activitybarToggle(design, $event)">
                          <img src="../../../../../assets/activitylist.png" width="24px" matTooltip="Activity"
                            [matTooltipPosition]="'below'" />
                        </button>
                        <button *ngIf="
                            design.status != 'created' &&
                            (design.unreadmessagecount == 0 ||
                              design.unreadmessagecount == null)
                          " class="float-right" mat-icon-button (click)="onChatButtonClick(design, $event)">
                          <img src="../../../../../assets/chat.svg" width="24px" matTooltip="Inbox"
                            [matTooltipPosition]="'below'" />
                        </button>
                        <button *ngIf="
                            design.status != 'created' &&
                            design.unreadmessagecount > 0
                          " class="float-right" mat-icon-button (click)="onChatButtonClick(design, $event)">
                          <img src="../../../../../assets/newchat.svg" width="24px" matTooltip="Inbox"
                            [matTooltipPosition]="'below'" />
                        </button>
                      </div>
                    </div>
                  </mat-card-header>
                  <mat-card-content>
                    <div class="row contentrow">
                      <div class="col-8 contentcol">
                        <a class="actiondetail" href="mailto:{{ design.email }}" (click)="$event.stopPropagation()">{{
                          design.email }}</a>
                        <a class="actiondetail" href="tel:{{ design.contactnumber }}"
                          (click)="$event.stopPropagation()">{{ design.contactnumber }}</a>
                        <a class="actiondetail" href="https://maps.google.com/?q={{
                            design.deliveryaddress
                          }}" target="_blank" (click)="$event.stopPropagation()">{{ design.deliveryaddress }}</a>
                        <p class="actiondetail silentdetail" *ngIf="design.createdby.company != null">
                          {{ design.createdby.company }}
                        </p>
                      </div>
                      <div class="col contentcol">
                        <!-- <div *ngIf="design.status == 'outsourced'" class="leftovertimerclass float-right">
                          <p>{{design.pestampacceptanceremainingtime}}</p>
                        </div> -->
                        <!-- <p class="silentdetail">Updated {{ design.recordupdatedon }}</p> -->
                        <p *ngIf="design.expecteddeliverydate" class="silentdetail">
                          {{ design.expecteddeliverydate | date: "dd MMM yy" }}
                        </p>
                        <p *ngIf="!design.expecteddeliverydate" class="silentdetail">
                          {{ design.actualdelivereddate | date: "dd MMM yy" }}
                        </p>
                      </div>
                    </div>
                    <!-- <p class="timedetail" *ngIf="design.isoverdue">Late by {{ design.lateby }}</p> -->
                  </mat-card-content>
                  <mat-card-footer>
                    <div class="row footerrow align-items-center">
                      <div class="col-6 footercol">
                        <div class="row align-items-center">
                          <!-- <p class="chipdetail ml-1">{{design.name}}</p> -->
                          <!--  <p class="chipdetail ml-1 ml-1">{{design.formattedpestamptype}}</p> -->
                          <!-- <p class="chipdetail ml-1 ml-1">{{design.source | titlecase}}</p> -->

                          <p class="chipdetail ml-1 ml-1">
                            {{ design.type | titlecase }}
                          </p>
                          <p class="chipdetail ml-1 ml-1">
                            {{ design.propertytype | titlecase }}
                          </p>
                        </div>
                      </div>
                      <div class="col-6 footercol">
                        <button *ngIf="
                            design.status == 'created' ||
                            (design.status == 'accepted' &&
                              !design.acceptedbypesuperadmin &&
                              !isClient &&
                              !isPeSuperadmin) ||
                            (design.acceptedbypesuperadmin &&
                              isPeSuperadmin &&
                              design.peengineerexist)
                          " class="prominentbutton float-right" mat-button (click)="
                            openAssignDesignerDialog(
                              design,
                              $event,
                              i,
                              listtypes.NEW,
                              design.type
                            )
                          ">
                          Assign
                        </button>
                        <button *ngIf="
                            design.acceptedbypesuperadmin &&
                            isPeSuperadmin &&
                            design.status == 'accepted'
                          " class="prominentbutton float-right" mat-button (click)="
                            pestampSelfAssign(
                              design,
                              $event,
                              listtypes.NEW
                            )
                          ">
                          Self Assign
                        </button>
                        <!--  <button
                          *ngIf="((design.status == 'accepted' && (!isClient && design.type=='both' && !design.iselectricalassigned)))"
                          class="prominentbutton float-right" mat-button
                          (click)="openAssignDesignerDialog(design, $event, i, listtypes.NEW, 'electrical')">Electrical
                          Assign</button>
                        <button
                          *ngIf="((design.status == 'accepted' && (!isClient && design.type =='both' && !design.isstructuralassigned)))"
                          class="prominentbutton float-right" mat-button
                          (click)="openAssignDesignerDialog(design, $event, i, listtypes.NEW,'structural')">Structral
                          Assign</button> -->
                        <button *ngIf="
                            (design.status == 'outsourced' && !isClient) ||
                            (design.status == 'pesuperadminassigned' &&
                              isPeSuperadmin)
                          " class="prominentbutton secondarybutton float-right ml-1" mat-button (click)="
                            declinePestampRequest(
                              design,
                              $event,
                              i,
                              listtypes.NEW
                            )
                          ">
                          On Hold
                        </button>
                        <button *ngIf="
                            (design.status == 'outsourced' && !isClient) ||
                            (design.status == 'pesuperadminassigned' &&
                              isPeSuperadmin)
                          " class="prominentbutton float-right" mat-button
                          (click)="acceptDesignRequest(design, $event, i)">
                          Accept
                        </button>

                        <button *ngIf="isClient && design.status == 'declined'" class="prominentbutton float-right"
                          mat-button (click)="
                            openReAssignDesignerDialog(
                              design,
                              $event,
                              i
                            )
                          ">
                          Reassign
                        </button>
                        <button matTooltip="Project Files (.zip)"
                          aria-label="Button that displays a tooltip when focused or hovered over"
                          class="prominentbutton float-right" mat-button (click)="downloadfile(design, $event)">
                          <img src="../../../../../assets/download.svg" width="24px" />
                        </button>
                      </div>
                    </div>
                  </mat-card-footer>
                </mat-card>
                <mat-spinner *ngIf="Newscrolling" style="margin: auto; margin-top: 16px" [diameter]="35"></mat-spinner>
              </cdk-virtual-scroll-viewport>
              <p class="listplaceholder" *ngIf="!isnewdesignslistloading && newpestamplist.length == 0">
                No New PE Stamp Requests
              </p>
            </div>
          </mat-tab>

          <mat-tab>
            <ng-template matTabLabel>
              <div class="condesignoverviewbutton">
                <img src="../../../../../assets/shining.svg" />
                <h1 *ngIf="allonholdpestamp < 0">
                  <ngx-skeleton-loader [theme]="{
                      'border-radius': '5px',
                      height: '32px',
                      width: '32px',
                      'background-color': '#EDDBB2',
                      position: 'absolute',
                      top: '16px',
                      right: '0px'
                    }">
                  </ngx-skeleton-loader>
                </h1>
                <h1 class="conoverviewvalue" *ngIf="allonholdpestamp >= 0">
                  {{ allonholdpestamp }}
                </h1>
                <h4 style="font-size: 0.7rem">On Hold</h4>
              </div>
            </ng-template>
            <div class="mt-4 innertabs">
              <div *ngIf="isonholdpestamplistloading">
                <div *ngFor="let number of [0, 1, 2]">
                  <div class="row">
                    <div class="col-10">
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '4px',
                          'margin-bottom': '0px',
                          'border-radius': '4px',
                          height: '15px',
                          width: '60px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '16px',
                          'border-radius': '4px',
                          'margin-bottom': '0px',
                          height: '15px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                      <ngx-skeleton-loader [theme]="{
                          'border-radius': '4px',
                          'margin-bottom': '0px',
                          height: '15px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                    </div>
                    <div class="col">
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '4px',
                          'border-radius': '4px',
                          height: '24px',
                          width: '24px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '4px',
                          'margin-left': '8px',
                          'border-radius': '4px',
                          height: '24px',
                          width: '24px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col">
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '16px',
                          'margin-bottom': '0px',
                          'border-radius': '8px',
                          height: '26px',
                          width: '50px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '16px',
                          'margin-left': '8px',
                          'margin-bottom': '0px',
                          'border-radius': '8px',
                          height: '26px',
                          width: '50px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                    </div>
                  </div>
                </div>
              </div>
              <cdk-virtual-scroll-viewport itemSize="200" (scrolledIndexChange)="onScrollonhold()"
                class="designlistitems-viewport" *ngIf="
                  !isonholdpestamplistloading && onholdpestampslist.length > 0
                " #onholdpestampscroll>
                <mat-card [ngClass]="[i % 2 == 0 ? 'itemcard even' : 'itemcard odd']" *cdkVirtualFor="
                    let design of onholdpestampslist;
                    let i = index
                  " (click)="openPestampDetailDialog(design, listtypes.ONHOLD, i)">
                  <mat-card-header>
                    <div class="row align-items-center headerrow">
                      <div class="col-10 headercol">
                        <img style="width: 24px; margin-right: 8px" *ngIf="design.isonpriority"
                          src="../../../../../assets/redflag.svg" />
                        <mat-card-title style="font-size: 0.9em">{{ design.personname }}

                          <span class="chipdetail ml-1" *ngIf="design.status == 'outsourced' && isClient">{{
                            design.pestampcurrentstatus }}</span>
                          <span class="chipdetail ml-1" style="background-color: #1289a7"
                            *ngIf="design.status == 'created'">Unassigned</span>
                          <span class="chipdetail ml-1" style="background-color: #3c78d8"
                            *ngIf="design.status == 'assigned'">{{ design.pestampcurrentstatus }}</span>
                          <span class="chipdetail ml-1" style="background-color: rgb(109, 187, 26)" *ngIf="
                              design.status == 'accepted' ||
                              design.status == 'completed' ||
                              design.status == 'delivered'
                            ">{{ design.pestampcurrentstatus }}</span>
                          <span class="chipdetail ml-1" style="background-color: rgb(246, 77, 10)"
                            *ngIf="design.status == 'declined'">{{ design.pestampcurrentstatus }}</span>
                          <!-- <span class="chipdetail ml-1" style="background-color: rgb(234, 32, 39);"
                            *ngIf="design.isoverdue">Overdue</span> -->
                          <span class="chipdetail ml-1" style="background-color: rgb(183, 21, 64)"
                            *ngIf="design.isinrevisionstate">Revision</span>
                        </mat-card-title>
                      </div>
                      <div class="col headercol">
                        <button class="float-right" mat-icon-button (click)="activitybarToggle(design, $event)">
                          <img src="../../../../../assets/activitylist.png" width="24px" matTooltip="Activity"
                            [matTooltipPosition]="'below'" />
                        </button>
                        <button *ngIf="
                            design.status != 'created' &&
                            (design.unreadmessagecount == 0 ||
                              design.unreadmessagecount == null)
                          " class="float-right" mat-icon-button (click)="onChatButtonClick(design, $event)">
                          <img src="../../../../../assets/chat.svg" width="24px" matTooltip="Inbox"
                            [matTooltipPosition]="'below'" />
                        </button>
                        <button *ngIf="
                            design.status != 'created' &&
                            design.unreadmessagecount > 0
                          " class="float-right" mat-icon-button (click)="onChatButtonClick(design, $event)">
                          <img src="../../../../../assets/newchat.svg" width="24px" matTooltip="Inbox"
                            [matTooltipPosition]="'below'" />
                        </button>
                      </div>
                    </div>
                  </mat-card-header>
                  <mat-card-content>
                    <div class="row contentrow">
                      <div class="col-8 contentcol">
                        <a class="actiondetail" href="mailto:{{ design.email }}" (click)="$event.stopPropagation()">{{
                          design.email }}</a>
                        <a class="actiondetail" href="tel:{{ design.contactnumber }}"
                          (click)="$event.stopPropagation()">{{ design.contactnumber }}</a>
                        <a class="actiondetail" href="https://maps.google.com/?q={{
                            design.deliveryaddress
                          }}" target="_blank" (click)="$event.stopPropagation()">{{ design.deliveryaddress }}</a>
                        <p class="actiondetail silentdetail" *ngIf="design.createdby.company != null">
                          {{ design.createdby.company }}
                        </p>
                      </div>
                      <div class="col contentcol">
                        <!-- <div *ngIf="design.status == 'outsourced'" class="leftovertimerclass float-right">
                          <p>{{design.pestampacceptanceremainingtime}}</p>
                        </div> -->
                        <!-- <p class="silentdetail">Updated {{ design.recordupdatedon }}</p> -->
                        <p *ngIf="design.expecteddeliverydate" class="silentdetail">
                          {{ design.expecteddeliverydate | date: "dd MMM yy" }}
                        </p>
                        <p *ngIf="!design.expecteddeliverydate" class="silentdetail">
                          {{ design.actualdelivereddate | date: "dd MMM yy" }}
                        </p>
                      </div>
                    </div>
                    <!-- <p class="timedetail" *ngIf="design.isoverdue">Late by {{ design.lateby }}</p> -->
                  </mat-card-content>
                  <mat-card-footer>
                    <div class="row footerrow align-items-center">
                      <div class="col-6 footercol">
                        <div class="row align-items-center">
                          <!-- <p class="chipdetail ml-1">{{design.name}}</p> -->
                          <!--  <p class="chipdetail ml-1 ml-1">{{design.formattedpestamptype}}</p> -->
                          <!-- <p class="chipdetail ml-1 ml-1">{{design.source | titlecase}}</p> -->

                          <p class="chipdetail ml-1 ml-1">
                            {{ design.type | titlecase }}
                          </p>
                          <p class="chipdetail ml-1 ml-1">
                            {{ design.propertytype | titlecase }}
                          </p>
                        </div>
                      </div>
                      <div class="col-6 footercol">
                        <!-- <button
                          *ngIf="(design.status == 'created' || (design.status == 'accepted'))"
                          class="prominentbutton float-right" mat-button
                          (click)="openAssignDesignerDialog(design, $event, i, listtypes.NEW, design.type)">Assign</button> -->
                        <!--  <button
                          *ngIf="((design.status == 'accepted' && (!isClient && design.type=='both' && !design.iselectricalassigned)))"
                          class="prominentbutton float-right" mat-button
                          (click)="openAssignDesignerDialog(design, $event, i, listtypes.NEW, 'electrical')">Electrical
                          Assign</button>
                        <button
                          *ngIf="((design.status == 'accepted' && (!isClient && design.type =='both' && !design.isstructuralassigned)))"
                          class="prominentbutton float-right" mat-button
                          (click)="openAssignDesignerDialog(design, $event, i, listtypes.NEW,'structural')">Structral
                          Assign</button> -->
                        <!-- <button *ngIf="design.status == 'outsourced' && !isClient "
                          class="prominentbutton secondarybutton float-right ml-1" mat-button
                          (click)="declinePestampRequest(design, $event, i)">On Hold</button>
                        <button *ngIf="design.status == 'outsourced' && !isClient " class="prominentbutton float-right"
                          mat-button (click)="acceptDesignRequest(design, $event, i)">Accept</button> -->
                        <button matTooltip="Project Files (.zip)"
                          aria-label="Button that displays a tooltip when focused or hovered over"
                          class="prominentbutton float-right" mat-button (click)="downloadfile(design, $event)">
                          <img src="../../../../../assets/download.svg" width="24px" />
                        </button>
                        <button *ngIf="isClient && design.status == 'declined'" class="prominentbutton float-right"
                          mat-button (click)="
                            openReAssignDesignerDialog(
                              design,
                              $event,
                              i
                            )
                          ">
                          Reassign
                        </button>
                      </div>
                    </div>
                  </mat-card-footer>
                </mat-card>
                <mat-spinner *ngIf="Holdscrolling" style="margin: auto; margin-top: 16px" [diameter]="35"></mat-spinner>
              </cdk-virtual-scroll-viewport>
              <p class="listplaceholder" *ngIf="
                  !isonholdpestamplistloading && onholdpestampslist.length == 0
                ">
                No New PE Stamp Requests
              </p>
            </div>
          </mat-tab>

          <mat-tab>
            <ng-template matTabLabel>
              <div class="condesignoverviewbutton">
                <img src="../../../../../assets/inprogress.svg" />
                <h1 *ngIf="allinstamping < 0">
                  <ngx-skeleton-loader [theme]="{
                      'border-radius': '5px',
                      height: '32px',
                      width: '32px',
                      'background-color': '#EDDBB2',
                      position: 'absolute',
                      top: '16px',
                      right: '0px'
                    }">
                  </ngx-skeleton-loader>
                </h1>
                <h1 class="conoverviewvalue" *ngIf="allinstamping >= 0">
                  {{ allinstamping }}
                </h1>
                <h4 style="font-size: 0.7rem">In Stamping</h4>
              </div>
            </ng-template>
            <div class="mt-4 innertabs">
              <div *ngIf="isindesignslistloading">
                <div *ngFor="let number of [0, 1, 2]">
                  <div class="row">
                    <div class="col-10">
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '4px',
                          'margin-bottom': '0px',
                          'border-radius': '4px',
                          height: '15px',
                          width: '60px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '16px',
                          'border-radius': '4px',
                          'margin-bottom': '0px',
                          height: '15px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                      <ngx-skeleton-loader [theme]="{
                          'border-radius': '4px',
                          'margin-bottom': '0px',
                          height: '15px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                    </div>
                    <div class="col">
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '4px',
                          'border-radius': '4px',
                          height: '24px',
                          width: '24px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '4px',
                          'margin-left': '8px',
                          'border-radius': '4px',
                          height: '24px',
                          width: '24px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col">
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '16px',
                          'margin-bottom': '0px',
                          'border-radius': '8px',
                          height: '26px',
                          width: '50px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '16px',
                          'margin-left': '8px',
                          'margin-bottom': '0px',
                          'border-radius': '8px',
                          height: '26px',
                          width: '50px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                    </div>
                  </div>
                </div>
              </div>
              <cdk-virtual-scroll-viewport itemSize="200" class="designlistitems-viewport"
                *ngIf="!isindesignslistloading && indesignslist.length > 0"
                (scrolledIndexChange)="onScrollInstampingPestamp()" #instamping>
                <mat-card [ngClass]="[i % 2 == 0 ? 'itemcard even' : 'itemcard odd']"
                  *cdkVirtualFor="let design of indesignslist; let i = index" (click)="
                    openPestampDetailDialog(design, listtypes.INDESIGN, i)
                  ">
                  <mat-card-header>
                    <div class="row align-items-center headerrow">
                      <div class="col-10 headercol">
                        <img style="width: 24px; margin-right: 8px" *ngIf="design.isonpriority"
                          src="../../../../../assets/redflag.svg" />
                        <mat-card-title style="font-size: 0.9em">{{ design.personname }}
                          <span class="chipdetail ml-1" *ngIf="design.status == 'outsourced' && isClient">{{
                            design.pestampcurrentstatus }}</span>
                          <span class="chipdetail ml-1" style="background-color: #1289a7"
                            *ngIf="design.status == 'created'">Unassigned</span>
                          <span class="chipdetail ml-1" style="background-color: #3c78d8"
                            *ngIf="design.status == 'assigned'">{{ design.pestampcurrentstatus }}</span>
                          <span class="chipdetail ml-1" style="background-color: rgb(109, 187, 26)" *ngIf="
                              design.status == 'accepted' ||
                              design.status == 'completed' ||
                              design.status == 'delivered'
                            ">{{ design.pestampcurrentstatus }}</span>
                          <span class="chipdetail ml-1" style="background-color: rgb(246, 77, 10)" *ngIf="
                              design.status == 'declined' ||
                              design.status == 'reviewfailed'
                            ">{{ design.pestampcurrentstatus }}</span>
                          <!--  <span class="chipdetail ml-1" style="background-color: rgb(234, 32, 39);"
                            *ngIf="design.isoverdue">Overdue</span> -->
                          <span class="chipdetail ml-1 ml-1" style="background-color: rgb(183, 21, 64)"
                            *ngIf="design.isinrevisionstate">Revision</span>
                          <!-- <span class="chipdetail ml-1" style="background-color: rgb(109, 187, 26)"
                            *ngIf="design.acceptedbypeengineer == true">Accepted</span> -->
                        </mat-card-title>
                      </div>
                      <div class="col headercol">
                        <button class="float-right" mat-icon-button (click)="activitybarToggle(design, $event)">
                          <img src="../../../../../assets/activitylist.png" width="24px" matTooltip="Activity"
                            [matTooltipPosition]="'below'" />
                        </button>
                        <button *ngIf="
                            design.unreadmessagecount == 0 ||
                            design.unreadmessagecount == null
                          " class="float-right" mat-icon-button (click)="onChatButtonClick(design, $event)">
                          <img src="../../../../../assets/chat.svg" width="24px" matTooltip="Inbox"
                            [matTooltipPosition]="'below'" />
                        </button>
                        <button *ngIf="design.unreadmessagecount > 0" class="float-right" mat-icon-button
                          (click)="onChatButtonClick(design, $event)">
                          <img src="../../../../../assets/newchat.svg" width="24px" matTooltip="Inbox"
                            [matTooltipPosition]="'below'" />
                        </button>
                      </div>
                    </div>
                  </mat-card-header>
                  <mat-card-content>
                    <div class="row contentrow">
                      <div class="col-8 contentcol">
                        <a class="actiondetail" href="mailto:{{ design.email }}" (click)="$event.stopPropagation()">{{
                          design.email }}</a>
                        <a class="actiondetail" href="tel:{{ design.contactnumber }}"
                          (click)="$event.stopPropagation()">{{ design.contactnumber }}</a>
                        <a class="actiondetail" href="https://maps.google.com/?q={{
                            design.deliveryaddress
                          }}" target="_blank" (click)="$event.stopPropagation()">{{ design.deliveryaddress }}</a>
                        <p class="actiondetail silentdetail" *ngIf="design.createdby.company != null">
                          {{ design.createdby.company }}
                        </p>
                      </div>
                      <div class="col-4 contentcol">
                        <!-- <p class="timedetail" *ngIf="design.isoverdue">Late by {{ design.lateby }}</p> -->
                        <p class="assigneedetails">Assigned to</p>
                        <p class="assigneedetails" style="font-weight: 600" *ngIf="design.assignedto">
                          {{ design.assignedto.firstname }}
                          {{ design.assignedto.lastname }}
                        </p>
                        <!--    <p class="assigneedetails" style="font-weight: 600;"
                          *ngIf="design.type=='both' && design.electricalassignedto">
                          {{design.electricalassignedto.firstname}}
                          {{design.electricalassignedto.lastname}}</p>
                        <p class="assigneedetails" style="font-weight: 600;"
                          *ngIf="design.type=='both' && design.structuralassignedto">
                          {{design.structuralassignedto.firstname}}
                          {{design.structuralassignedto.lastname}}</p> -->
                      </div>
                    </div>
                    <!-- <p class="silentdetail">Updated {{ design.recordupdatedon }}</p> -->
                    <p *ngIf="design.expecteddeliverydate" class="silentdetail">
                      {{ design.expecteddeliverydate | date: "dd MMM yy" }}
                    </p>
                    <p *ngIf="!design.expecteddeliverydate" class="silentdetail">
                      {{ design.actualdelivereddate | date: "dd MMM yy" }}
                    </p>
                  </mat-card-content>
                  <mat-card-footer>
                    <div class="row footerrow align-items-center">
                      <div class="col-6 footercol">
                        <div class="row align-items-center">
                          <!-- <p class="chipdetail ml-1 ml-1">{{design.source | titlecase}}</p> -->

                          <p class="chipdetail ml-1 ml-1">
                            {{ design.type | titlecase }}
                          </p>
                          <p class="chipdetail ml-1 ml-1">
                            {{ design.propertytype | titlecase }}
                          </p>
                        </div>
                      </div>
                      <div class="col-6 footercol">
                        <button *ngIf="
                            design.status == 'created' ||
                            (design.status == 'accepted' &&
                              !design.acceptedbypesuperadmin &&
                              !isClient &&
                              !isPeSuperadmin) ||
                            (design.acceptedbypesuperadmin &&
                              isPeSuperadmin &&
                              design.peengineerexist)
                          " class="prominentbutton float-right" mat-button (click)="
                            openAssignDesignerDialog(
                              design,
                              $event,
                              i,
                              listtypes.INDESIGN,
                              design.type
                            )
                          ">
                          Assign
                        </button>
                        <button matTooltip="Project Files (.zip)"
                          aria-label="Button that displays a tooltip when focused or hovered over"
                          class="prominentbutton float-right" mat-button (click)="downloadfile(design, $event)">
                          <img src="../../../../../assets/download.svg" width="24px" />
                        </button>
                        <!-- <button *ngIf="design.status == 'designassigned' && !isClient"
                          class="prominentbutton float-right" mat-button
                          (click)="openAssignDesignerDialog(design, $event, i, listtypes.INDESIGN)">Reassign</button>
                        <div class="leftovertimerclass float-right">
                          <p>{{design.pestampacceptancestarttime}}</p>
                        </div> -->
                        <!-- <button *ngIf="design.status == 'assigned' && !isClient "
                          class="prominentbutton secondarybutton float-right ml-1" mat-button
                          (click)="declinePestampRequest(design, $event, i, listtypes.INDESIGN)">On Hold</button> -->
                      </div>
                    </div>
                  </mat-card-footer>
                </mat-card>
                <mat-spinner *ngIf="Stampingscrolling" style="margin: auto; margin-top: 16px" [diameter]="35">
                </mat-spinner>
              </cdk-virtual-scroll-viewport>
              <p class="listplaceholder" *ngIf="!isindesignslistloading && indesignslist.length == 0">
                No PE Stamp Requests In Progress
              </p>
            </div>
          </mat-tab>

          <mat-tab>
            <ng-template matTabLabel>
              <div class="condesignoverviewbutton">
                <img src="../../../../../assets/delivered.svg" />
                <h1 *ngIf="alldelivered < 0">
                  <ngx-skeleton-loader [theme]="{
                      'border-radius': '5px',
                      height: '32px',
                      width: '32px',
                      'background-color': '#EDDBB2',
                      position: 'absolute',
                      top: '16px',
                      right: '0px'
                    }">
                  </ngx-skeleton-loader>
                </h1>
                <h1 class="conoverviewvalue" *ngIf="alldelivered >= 0">
                  {{ alldelivered }}
                </h1>
                <h4 style="font-size: 0.7rem">Delivered</h4>
              </div>
            </ng-template>
            <div class="mt-4 innertabs">
              <div *ngIf="isdelivereddesignslistloading">
                <div *ngFor="let number of [0, 1, 2]">
                  <div class="row">
                    <div class="col-10">
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '4px',
                          'margin-bottom': '0px',
                          'border-radius': '4px',
                          height: '15px',
                          width: '60px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '16px',
                          'border-radius': '4px',
                          'margin-bottom': '0px',
                          height: '15px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                      <ngx-skeleton-loader [theme]="{
                          'border-radius': '4px',
                          'margin-bottom': '0px',
                          height: '15px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                    </div>
                    <div class="col">
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '4px',
                          'border-radius': '4px',
                          height: '24px',
                          width: '24px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '4px',
                          'margin-left': '8px',
                          'border-radius': '4px',
                          height: '24px',
                          width: '24px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col">
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '16px',
                          'margin-bottom': '0px',
                          'border-radius': '8px',
                          height: '26px',
                          width: '50px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                      <ngx-skeleton-loader [theme]="{
                          'margin-top': '16px',
                          'margin-left': '8px',
                          'margin-bottom': '0px',
                          'border-radius': '8px',
                          height: '26px',
                          width: '50px',
                          'background-color': '#EDDBB2'
                        }">
                      </ngx-skeleton-loader>
                    </div>
                  </div>
                </div>
              </div>
              <cdk-virtual-scroll-viewport itemSize="200" *ngIf="
                  !isdelivereddesignslistloading &&
                  delivereddesignslist.length > 0
                " [ngClass]="[
                  Array.length
                    ? 'checked-delivered-table-height'
                    : 'designlistitems-viewport'
                ]" (scrolledIndexChange)="onScrollDeliveredPestamp()" #deliveredpestamp>
                <mat-card [ngClass]="[i % 2 == 0 ? 'itemcard even' : 'itemcard odd']" *cdkVirtualFor="
                    let design of delivereddesignslist;
                    let i = index
                  " class="archivecheckbox">
                  <mat-card-header>
                    <mat-checkbox [checked]="allArchives[i]" [ngClass]="[
                        Array.length ? 'checkedcheckbox ' : 'uncheckedcheckbox'
                      ]" (change)="selectedarchive(design.id, i, 'single')"></mat-checkbox>
                    <div class="row align-items-center headerrow" (click)="
                        openPestampDetailDialog(design, listtypes.DELIVERED, i)
                      ">
                      <div class="col-10 headercol">
                        <img style="width: 24px; margin-right: 8px" *ngIf="design.isonpriority"
                          src="../../../../../assets/redflag.svg" />
                        <mat-card-title style="font-size: 0.9em">{{ design.personname }}
                          <span class="chipdetail ml-1" *ngIf="design.status == 'outsourced' && isClient">{{
                            design.pestampcurrentstatus }}</span>
                          <span class="chipdetail ml-1" style="background-color: #1289a7"
                            *ngIf="design.status == 'created'">Unassigned</span>
                          <span class="chipdetail ml-1" style="background-color: #3c78d8"
                            *ngIf="design.status == 'assigned'">{{ design.pestampcurrentstatus }}</span>
                          <span class="chipdetail ml-1" style="background-color: rgb(109, 187, 26)" *ngIf="
                              design.status == 'accepted' ||
                              design.status == 'completed' ||
                              design.status == 'delivered'
                            ">{{ design.pestampcurrentstatus }}</span>
                          <span class="chipdetail ml-1" style="background-color: rgb(246, 77, 10)"
                            *ngIf="design.status == 'requestdeclined'">{{ design.pestampcurrentstatus }}</span>
                          <!-- <span class="chipdetail ml-1" style="background-color: rgb(234, 32, 39);"
                          *ngIf="design.isoverdue">Overdue</span> -->
                          <span class="chipdetail ml-1 ml-1" style="background-color: rgb(183, 21, 64)"
                            *ngIf="design.isinrevisionstate">Revision</span>
                        </mat-card-title>
                      </div>
                      <div class="col headercol">
                        <button class="float-right" mat-icon-button (click)="activitybarToggle(design, $event)">
                          <img src="../../../../../assets/activitylist.png" width="24px" matTooltip="Activity"
                            [matTooltipPosition]="'below'" />
                        </button>
                        <button *ngIf="
                            design.unreadmessagecount == 0 ||
                            design.unreadmessagecount == null
                          " class="float-right" mat-icon-button (click)="onChatButtonClick(design, $event)">
                          <img src="../../../../../assets/chat.svg" width="24px" matTooltip="Inbox"
                            [matTooltipPosition]="'below'" />
                        </button>
                        <button *ngIf="design.unreadmessagecount > 0" class="float-right" mat-icon-button
                          (click)="onChatButtonClick(design, $event)">
                          <img src="../../../../../assets/newchat.svg" width="24px" matTooltip="Inbox"
                            [matTooltipPosition]="'below'" />
                        </button>
                      </div>
                    </div>
                  </mat-card-header>
                  <mat-card-content (click)="
                      openPestampDetailDialog(design, listtypes.DELIVERED, i)
                    ">
                    <div class="row contentrow">
                      <div class="col-8 contentcol">
                        <a class="actiondetail" href="mailto:{{ design.email }}" (click)="$event.stopPropagation()">{{
                          design.email }}</a>
                        <a class="actiondetail" href="tel:{{ design.contactnumber }}"
                          (click)="$event.stopPropagation()">{{ design.contactnumber }}</a>
                        <a class="actiondetail" href="https://maps.google.com/?q={{
                            design.deliveryaddress
                          }}" target="_blank" (click)="$event.stopPropagation()">{{ design.deliveryaddress }}</a>

                        <p class="actiondetail silentdetail" *ngIf="design.createdby.company != null">
                          {{ design.createdby.company }}
                        </p>
                      </div>
                      <div class="col-4 contentcol">
                        <!-- <p class="timedetail" *ngIf="design.isoverdue">Late by {{ design.lateby }}</p> -->
                        <p class="assigneedetails">Assigned to</p>
                        <p class="assigneedetails" style="font-weight: 600" *ngIf="design.assignedto">
                          {{ design.assignedto.firstname }}
                          {{ design.assignedto.lastname }}
                        </p>
                        <!-- <p class="assigneedetails" style="font-weight: 600;"
                        *ngIf="design.type=='both' && design.electricalassignedto">
                        {{design.electricalassignedto.firstname}}
                        {{design.electricalassignedto.lastname}}</p>
                      <p class="assigneedetails" style="font-weight: 600;"
                        *ngIf="design.type=='both' && design.structuralassignedto">
                        {{design.structuralassignedto.firstname}}
                        {{design.structuralassignedto.lastname}}</p> -->
                      </div>
                    </div>
                    <!-- <p class="silentdetail">Updated {{ design.recordupdatedon }}</p> -->
                    <!-- <p class="silentdetail">{{genericService.formatDateInDisplayFormat( design.actualdelivereddate)}} </p>-->
                    <p class="silentdetail">
                      {{ design.actualdelivereddate | date: "dd MMM yy" }}
                    </p>
                  </mat-card-content>
                  <mat-card-footer (click)="
                      openPestampDetailDialog(design, listtypes.DELIVERED, i)
                    ">
                    <div class="row footerrow align-items-center">
                      <div class="col-4 footercol">
                        <div class="row align-items-center">
                          <!-- <p class="chipdetail ml-1 ml-1">{{design.source | titlecase}}</p> -->
                          <p class="chipdetail ml-1 ml-1">
                            {{ design.type | titlecase }}
                          </p>
                          <p class="chipdetail ml-1 ml-1">
                            {{ design.propertytype | titlecase }}
                          </p>
                        </div>
                      </div>
                      <div class="col-8 footercol">
                        <!--  <button class="prominentbutton float-right" mat-icon-button
                        (click)="shareDesign(design, $event)"> <img src="../../../../../assets/mail1.svg"
                          width="24px" /></button>
                      <button class="prominentbutton float-right" mat-icon-button (click)="ShareOnWhatsapp()">
                        <a href="https://web.whatsapp.com/send?text=find the attachment in the link-    "
                          target="_blank">
                          <img src="../../../../../assets/whatsapp.svg" width="24px" /> </a></button> -->
                        <button *ngIf="
                            isClient ||
                            (isWattmonkUser &&
                              !design.createdby.parent.ispaymentmodeprepay)
                          " class="prominentbutton float-right" style="margin-top: 8px" mat-button
                          (click)="resendDesign(design, $event)">
                          Send for Revision
                        </button>
                        <button *ngIf="
                            isClient &&
                            loggedInUser.ispaymentmodeprepay &&
                            (design.deliverychargespaymentstatus == 'pending' ||
                              design.paymentstatus == 'pending') &&
                            design.propertytype != 'commercial'
                          " class="prominentbutton float-right" style="margin-top: 8px" mat-button (click)="
                            openpendingpayments(
                              $event,
                              design,
                              listtypes.DELIVERED
                            )
                          ">
                          Make Payment
                        </button>
                        <button style="margin-top: 8px" class="prominentbutton float-right" mat-icon-button
                          (click)="downloadPestamp(design, $event)">
                          <img src="../../../../../assets/download.svg" width="24px" />
                        </button>
                        <!--   <button class="prominentbutton float-right" style="margin-top: 8px;" *ngIf="design.type=='both'"
                        mat-button (click)="downloadelectricalPestamp(design,   $event)"> <img
                          src="../../../../../assets/download.svg" width="24px" /> Electrical </button>
                      <button class="prominentbutton float-right" style="margin-top: 8px;" *ngIf="design.type=='both'"
                        mat-button (click)="downloadstructuralPestamp(design,  $event)"> <img
                          src="../../../../../assets/download.svg" width="24px" /> Structural </button> -->
                      </div>
                    </div>
                  </mat-card-footer>
                </mat-card>
                <mat-spinner *ngIf="Deliveredscrolling" style="margin: auto; margin-top: 16px" [diameter]="35">
                </mat-spinner>
              </cdk-virtual-scroll-viewport>
              <p class="listplaceholder" *ngIf="
                  !isdelivereddesignslistloading &&
                  delivereddesignslist.length == 0
                ">
                No PE Stamp Delivered So Far
              </p>
            </div>
            <div class="container mt-3" *ngIf="Array.length">
              <div class="d-flex justify-content-center">
                <div class="col-8 d-flex">
                  <div class="col-6 d-flex border-right">
                    <div class="col text-right">
                      <p class="itemselected mb-0">
                        <span class="badgelass">{{ counting }}</span> Item(s)
                        Selected
                      </p>
                      <p class="selectallitem mb-0" (click)="selectedarchive('Id', 2, 'all')"
                        style="margin-right: 9px; cursor: pointer">
                        Select all the items
                      </p>
                    </div>
                  </div>
                  <div class="col-6 d-flex align-items-center">
                    <button mat-button class="ml-3 archivebutton" (click)="onarchivebuttonclick()">
                      Archive
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </mat-tab>
        </mat-tab-group>
      </div>

      <div class="col-sm-3 col-12 mt-4" *ngIf="!isClient && loggedInUser.role.id != 3 && !isPeSuperadmin">
        <div class="lds-ellipsis" *ngIf="isLoader">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
        </div>

        <h4 style="padding-top: 8px" class="subtitle">Company Filters</h4>
        <!-- <button (click)='onViewAllChanged()' style="font-size: 13px;  font-weight: 600; color: #3c78d8;border: none;background-color: none; "> Clear Filter</button> -->
        <div class="row">
          <div class="col logincard">
            <mat-form-field appearance="outline" style="width: 100%">
              <input matInput placeholder="Search here" [(ngModel)]="searchTerm.companyname" />
              <span style="position: relative; top: -3px; margin-right: 7px" matSuffix><img
                  src="../../../../../assets/search.svg" width="15px" height="15px" /></span>
            </mat-form-field>
          </div>
        </div>
        <mat-selection-list #list [multiple]="false" class="filterselectionlist">
          <mat-list-option class="mat-list-text" (click)="onViewAllChanged()"
            style="font-size: 13px; font-weight: 600; color: #3c78d8">
            Clear Filters
            <mat-divider></mat-divider>
          </mat-list-option>
          <mat-list-option class="mat-list-text" *ngFor="let company of companyList | filterBy: searchTerm"
            [selected]="company.selected" (click)="onCompanyChanged(list)" [value]="company.companyid"
            style="font-size: 13px; font-weight: 600; color: #3c78d8">
            {{ company.companyname }}

            <span class="matBadge" style="margin-top: 4px; width: 20px" *ngIf="company.newdesignscount > 0">
              {{ company.newdesignscount }}
            </span>

            <mat-divider></mat-divider>
          </mat-list-option>
          <mat-spinner *ngIf="scrolling" style="position: absolute; top:73%; left: 49%; bottom: 1%" [diameter]="35">
          </mat-spinner>
        </mat-selection-list>

        <!-- <h4 style="padding-top: 30px;" class="subtitle" *ngIf="[1].includes(selectedTabIndex)">Design Assigned To</h4>
        <mat-selection-list #listDesigner [multiple]="false" class="filterselectionlist"
          *ngIf="[1].includes(selectedTabIndex)">

          <mat-list-option class="mat-list-text" *ngFor="let peengineer of peengineers" [selected]="peengineer.selected"
            [value]="peengineer.id" style="font-size: 13px;
    font-weight: 600;
    color: #3c78d8;" (click)="onPEenggChanged(listDesigner)">
            {{peengineer.firstname|titlecase}} {{peengineer.lastname}}

            <mat-divider></mat-divider>
          </mat-list-option>
        </mat-selection-list> -->

        <h4 style="padding-top: 30px" class="subtitle">Status Filters</h4>
        <div class="form-group formradiogroup fullwidth">
          <mat-radio-group [(ngModel)]="statusfilterclear" name="statusfilter" aria-label="statusfilter" required
            (change)="radioChange($event)">
            <!-- <div class="row">
              <div class="col">
                <mat-radio-button value="declined">On Hold</mat-radio-button>
              </div>
            </div> -->
            <div class="row">
              <div class="col">
                <mat-radio-button value="isinrevisionstate">Revision</mat-radio-button>
              </div>
            </div>
          </mat-radio-group>
        </div>
      </div>
    </div>
  </div>
</div>